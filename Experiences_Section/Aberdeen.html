<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="../assets/images/name.jpg" type="image/x-icon">
    <title data-i18n="aberdeen.title">Aberdeen - Aymane Tajani</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Inclusion des bibliothèques i18next -->
    <script src="https://unpkg.com/i18next@23.4.6/dist/umd/i18next.min.js"></script>
    <script src="https://unpkg.com/i18next-http-backend@2.2.0/i18nextHttpBackend.min.js"></script>
    <script src="https://unpkg.com/i18next-browser-languagedetector@7.0.1/i18nextBrowserLanguageDetector.min.js"></script>
</head>
<body>
    <!-- Header with back button -->
    <header class="experience-detail-header">
        <div class="container">
            <a href="../index.html#experiences" class="back-btn">
                <i class="fas fa-arrow-left"></i> <span data-i18n="aberdeen.backBtn">Retour au portfolio</span>
            </a>
        </div>
    </header>

    <!-- Main content -->
    <main class="experience-detail-main">
        <div class="container">
            <div class="experience-detail-card">
                <div class="experience-detail-header-content">
                    <div class="company-logo">
                        <img src="../assets/images/Experience/Aberdeen.png" alt="Aberdeen Services Logo">
                    </div>
                    <div class="experience-detail-info">
                        <h1 data-i18n="aberdeen.projectTitle">
                            Conception & Développement d'une Solution Mobile de Prise des Commandes de Vente Pharmaceutique Connectée à Sage X3.
                        </h1>
                        <h2 data-i18n="aberdeen.company">Aberdeen Services</h2>
                        <div class="experience-meta">
                            <span class="duration"><i class="fas fa-calendar"></i> <span data-i18n="aberdeen.dates">03 Mars 2025 - 03 Septembre 2025</span></span>
                            <span class="location"><i class="fas fa-map-marker-alt"></i> <span data-i18n="aberdeen.location">Casablanca, Maroc</span></span>
                            <span class="type"><i class="fas fa-briefcase"></i> <span data-i18n="aberdeen.type">Stage (Sur site)</span></span>
                        </div>
                    </div>
                </div>

                <div class="experience-detail-content">
                    <section class="overview-section">
                        <h3><i class="fas fa-info-circle"></i> <span data-i18n="aberdeen.overviewTitle">Aperçu du projet</span></h3>
                        <p data-i18n="aberdeen.overviewText">
                            Le secteur pharmaceutique est un domaine très réglementé ...
                        </p>
                    </section>

                    <section class="technologies-section">
                        <h3><i class="fas fa-tools"></i> <span data-i18n="aberdeen.techTitle">Technologies utilisées</span></h3>
                         <!-- Tools Image -->
                        <div class="tools-diagram">
                            <img src="../assets/images/Experience/Experiences_Section/Aberdeen/liste outils.png" alt="Liste des outils et technologies utilisés" class="tools-img">
                            <p class="diagram-caption" data-i18n="aberdeen.techDiagram">Technologies et outils utilisés dans le projet Aberdeen</p>
                        </div>
                        
                        <div class="tech-stack">
                            <span class="tech-tag">VS Code</span>
                            <span class="tech-tag">GitHub</span>
                            <span class="tech-tag">Flutter</span>
                            <span class="tech-tag">REST API</span>
                            <span class="tech-tag">Sage X3</span>
                            <span class="tech-tag">4GL</span>
                            <span class="tech-tag">Postman</span>
                            <span class="tech-tag">SQL Server</span>
                        </div>
                    </section>

                    <section class="responsibilities-section">
                        <h3><i class="fas fa-tasks"></i> <span data-i18n="aberdeen.respTitle">Responsabilités principales</span></h3>
                        <ul class="responsibilities-list">
                            <li data-i18n="aberdeen.resp1">Analyse des besoins métier ...</li>
                            <li data-i18n="aberdeen.resp2">Développement de web services ...</li>
                            <li data-i18n="aberdeen.resp3">Conception et développement ...</li>
                            <li data-i18n="aberdeen.resp4">Implémentation de la synchronisation ...</li>
                            <li data-i18n="aberdeen.resp5">Développement des fonctionnalités ...</li>
                            <li data-i18n="aberdeen.resp6">Configuration et optimisation ...</li>
                            <li data-i18n="aberdeen.resp7">Tests unitaires et d'intégration ...</li>
                            <li data-i18n="aberdeen.resp8">Mise en place du versioning ...</li>
                        </ul>
                    </section>

                    <section class="achievements-section">
                        <h3><i class="fas fa-trophy"></i> <span data-i18n="aberdeen.achievementsTitle">Réalisations</span></h3>
                        <div class="achievements-grid">
                            <div class="achievement-item">
                                <i class="fas fa-mobile-alt"></i>
                                <h4 data-i18n="aberdeen.ach1.title">Solution mobile cross-platform</h4>
                                <p data-i18n="aberdeen.ach1.text">Accessible sur tous appareils</p>
                            </div>
                            <div class="achievement-item">
                                <i class="fas fa-plug"></i>
                                <h4 data-i18n="aberdeen.ach2.title">API REST</h4>
                                <p data-i18n="aberdeen.ach2.text">Integration avec Sage X3 ...</p>
                            </div>
                            <div class="achievement-item">
                                <i class="fas fa-database"></i>
                                <h4 data-i18n="aberdeen.ach3.title">Gestion de Données</h4>
                                <p data-i18n="aberdeen.ach3.text">Synchronisation temps réel ...</p>
                            </div>
                        </div>
                    </section>

                    <section class="architecture-section">
                        <h3><i class="fas fa-sitemap"></i> <span data-i18n="aberdeen.archTitle">Architecture technique</span></h3>
                         <!-- Architecture Diagram -->
                        <div class="architecture-diagram">
                            <img src="../assets/images/Experience/Experiences_Section/Aberdeen/AR-Tech-REST.png" alt="Architecture REST Aberdeen" class="architecture-img">
                            <p class="diagram-caption" data-i18n="aberdeen.archDiagram">Architecture REST distribuée de l'application PharmaX3</p>
                        </div>
                        
                        <div class="architecture-note">
                            <p data-i18n="aberdeen.archText1">L’infrastructure repose sur ...</p>
                            <ul>
                                <li data-i18n="aberdeen.archItem1"><strong>Application Mobile ...</strong> Développée avec Flutter...</li>
                                <li data-i18n="aberdeen.archItem2"><strong>Web Services REST ...</strong> Les services sont configurés...</li>
                                <li data-i18n="aberdeen.archItem3"><strong>Base de Données ...</strong> L’ensemble des données ...</li>
                            </ul>
                            <p data-i18n="aberdeen.archText2"><strong>NB :</strong> Ce modèle assure ...</p>
                        </div>
                    </section>

                    <section class="impact-section">
                        <h3><i class="fas fa-chart-line"></i> <span data-i18n="aberdeen.impactTitle">Impact et résultats</span></h3>
                        <div class="impact-stats">
                            <div class="stat-item">
                                <span class="stat-number">75%</span>
                                <span class="stat-label" data-i18n="aberdeen.stat1">Réduction temps et d'erreur ...</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number">99%</span>
                                <span class="stat-label" data-i18n="aberdeen.stat2">Disponibilité système</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number">100%</span>
                                <span class="stat-label" data-i18n="aberdeen.stat3">Synchronisation temps réel ...</span>
                            </div>
                        </div>
                    </section>

                    <section class="gallery-section">
                        <h3><i class="fas fa-images"></i> <span data-i18n="aberdeen.galleryTitle">Album du projet</span></h3>
                        <div class="scrollable-album">
                            <div class="album-container">
                                <div class="album-item">
                                    <img src="../assets/images/Experience/Experiences_Section/Aberdeen/1.png" alt="Interface principale">
                                    <div class="album-caption" data-i18n="aberdeen.gallery1">Interface d’authentification</div>
                                </div>
                                <div class="album-item">
                                    <img src="../assets/images/Experience/Experiences_Section/Aberdeen/2.jpg" alt="Catalogue médicaments">
                                    <div class="album-caption" data-i18n="aberdeen.gallery2">Interface d'accueil</div>
                                </div>
                                <div class="album-item">
                                    <img src="../assets/images/Experience/Experiences_Section/Aberdeen/2-2.jpg" alt="Vue détaillée catalogue">
                                    <div class="album-caption" data-i18n="aberdeen.gallery3">Fonctionnalités principales ...</div>
                                </div>
                                <div class="album-item">
                                    <img src="../assets/images/Experience/Experiences_Section/Aberdeen/3.png" alt="Gestion commandes">
                                    <div class="album-caption" data-i18n="aberdeen.gallery4">Interface pour la consultation ...</div>
                                </div>
                                <div class="album-item">
                                      <img src="../assets/images/Experience/Experiences_Section/Aberdeen/4.png" alt="Interface utilisateur">
                                    <div class="album-caption" data-i18n="aberdeen.gallery5">Interface pour la création ...</div>
                                </div>
                                <div class="album-item">
                                    <img src="../assets/images/Experience/Experiences_Section/Aberdeen/5.png" alt="Module de configuration">
                                    <div class="album-caption" data-i18n="aberdeen.gallery6">Interface pour la consultation ...</div>
                                </div>
                                <div class="album-item">
                                    <img src="../assets/images/Experience/Experiences_Section/Aberdeen/6.png" alt="Tableau de bord">
                                    <div class="album-caption" data-i18n="aberdeen.gallery7">Interface du Tableau de Bord ...</div>
                                </div>
                                <div class="album-item">
                                    <img src="../assets/images/Experience/Experiences_Section/Aberdeen/7.jpg" alt="Analytics et rapports">
                                    <div class="album-caption" data-i18n="aberdeen.gallery8">Interfaces pour vérifier ...</div>
                                </div>
                                <div class="album-item">
                                    <img src="../assets/images/Experience/Experiences_Section/Aberdeen/8.png" alt="Paramètres système">
                                    <div class="album-caption" data-i18n="aberdeen.gallery9">Interface Mode Hors Ligne</div>
                                </div>
                            </div>
                            <div class="album-scroll-indicator">
                                <span data-i18n="aberdeen.scrollHint">Faites défiler pour voir plus d'images →</span>
                            </div>
                        </div>
                    </section>
                </div>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p data-i18n="footer.text" style="color: white;">&copy; 2025 Aymane Tajani. All rights reserved.</p>
        </div>
    </footer>

    <script src="../js/script.js"></script>
    <!-- i18next initialization script -->
    <script>
        function updateContent() {
            console.log('Updating content with language:', i18next.language);
            document.querySelectorAll('[data-i18n]').forEach(function(element) {
                var key = element.getAttribute('data-i18n');
                try {
                    const translation = i18next.t(key);
                    if (translation && translation !== key) {
                        element.innerHTML = translation;
                    } else {
                        console.warn('Missing translation for key:', key);
                    }
                } catch (error) {
                    console.error('Error translating key:', key, error);
                }
            });
        }

        function updateLanguageButtons(currentLang) {
            document.querySelectorAll('.language-switcher button').forEach(button => {
                const lang = button.getAttribute('onclick').match(/'([^']+)'/)[1];
                button.classList.toggle('active', lang === currentLang);
            });
        }

        function changeLanguage(lng) {
            localStorage.setItem('i18nextLng', lng);
            i18next.changeLanguage(lng, function() {
                updateContent();
                updateLanguageButtons(lng);
            });
        }

        // Initialize i18next with proper path handling
        const isGitHubPages = window.location.hostname.includes('github.io');
        const basePath = isGitHubPages ? '../' : '../';
        
        console.log('Initializing i18next for Aberdeen page...');
        console.log('Is GitHub Pages:', isGitHubPages);
        console.log('Base path:', basePath);
        console.log('Translation path:', basePath + 'locales/{{lng}}/translation.json');
        
        i18next
            .use(i18nextHttpBackend)
            .use(i18nextBrowserLanguageDetector)
            .init({
                fallbackLng: 'fr',
                debug: !isGitHubPages,
                lng: localStorage.getItem('i18nextLng') || 'fr', // Get language from localStorage or default to 'fr'
                backend: {
                    loadPath: basePath + 'locales/{{lng}}/translation.json'
                },
                detection: {
                    order: ['localStorage', 'navigator'],
                    caches: ['localStorage']
                }
            }, function(err, t) {
                if (err) {
                    console.error('Translation loading error:', err);
                } else {
                    console.log('i18next initialized successfully');
                    console.log('Current language:', i18next.language);
                }
                updateLanguageButtons(i18next.language || 'fr');
                updateContent();
            });

        // Add event listener for language changes
        i18next.on('languageChanged', function(lng) {
            console.log('Language changed to:', lng);
        });
    </script>
</body>
</html>
