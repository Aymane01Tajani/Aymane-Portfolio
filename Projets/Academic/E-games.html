<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="../../assets/images/profile-placeholder.jpg" type="image/x-icon">
    <title data-i18n="egames.title">E-Games - Aymane Tajani</title>
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
            <!-- Inclusion des bibliothèques i18next -->
    <script src="https://unpkg.com/i18next@23.4.6/dist/umd/i18next.min.js"></script>
    <script src="https://unpkg.com/i18next-http-backend@2.2.0/i18nextHttpBackend.min.js"></script>
    <script src="https://unpkg.com/i18next-browser-languagedetector@7.0.1/i18nextBrowserLanguageDetector.min.js"></script>
</head>
<body>
    <!-- Header with back button -->
    <header class="experience-detail-header">
        <div class="container">
            <a href="../../index.html#projects" class="back-btn" data-i18n="back.portfolio">
                <i class="fas fa-arrow-left"></i> Retour au portfolio
            </a>
        </div>
    </header>

    <!-- Main content -->
    <main class="experience-detail-main">
        <div class="container">
            <div class="experience-detail-card">
                <div class="experience-detail-header-content">
                    <div class="company-logo">
                        <img src="../../assets/images/PFA/Academic/E-games/Acceuill.jpg" alt="E-Games Logo">
                    </div>
                    <div class="experience-detail-info">
                        <h1 data-i18n="egames.header.title">E-Games - Plateforme E-commerce de Jeux Vidéo</h1>
                        <h2 data-i18n="egames.header.subtitle">Projet Académique Django</h2>
                        <div class="experience-meta">
                            <span class="duration" data-i18n="egames.meta.date"><i class="fas fa-calendar"></i> Juin 2023</span>
                            <span class="location" data-i18n="egames.meta.location"><i class="fas fa-graduation-cap"></i> EMSI Casablanca</span>
                            <span class="type" data-i18n="egames.meta.type"><i class="fas fa-shopping-cart"></i> E-commerce</span>
                        </div>
                    </div>
                </div>

                <div class="experience-detail-content">
                    <section class="overview-section">
                        <h3 data-i18n="egames.overview.title"><i class="fas fa-info-circle"></i> Aperçu du projet</h3>
                        <p data-i18n="egames.overview.text">L'Application E-games est une application web permettant aux utilisateurs d'acheter des jeux vidéo en ligne a travers une plateforme e-commerce moderne dédiée à la vente de jeux vidéo développée avec Django. Cette solution complète offre une expérience d'achat fluide avec gestion des utilisateurs, catalogue de produits, panier d'achat, système de paiement et interface d'administration avancée. L'objectif de ce projet est de créer une plateforme conviviale et intuitive offrant différentes fonctionnalités pour faciliter la recherche, la sélection et l'achat des jeux vidéo.</p>
                    </section>

                    <section class="technologies-section">
                        <h3 data-i18n="egames.tech.title"><i class="fas fa-tools"></i> Technologies utilisées</h3>
                        <div class="tech-stack">
                            <span class="tech-tag">Django</span>
                            <span class="tech-tag">Python</span>
                            <span class="tech-tag">SQLite</span>
                            <span class="tech-tag">HTML5</span>
                            <span class="tech-tag">CSS3</span>
                        </div>
                    </section>

                    <section class="responsibilities-section">
                        <h3 data-i18n="egames.features.title"><i class="fas fa-tasks"></i> Fonctionnalités développées</h3>
                        <ul class="responsibilities-list">
                            <li data-i18n="egames.features.auth">Système d'authentification et gestion des utilisateurs</li>
                            <li data-i18n="egames.features.catalog">Catalogue de jeux avec recherche et filtres avancés</li>
                            <li data-i18n="egames.features.cart">Panier d'achat avec gestion des sessions</li>
                            <li data-i18n="egames.features.orders">Système de commandes et historique d'achats</li>
                            <li data-i18n="egames.features.admin">Interface d'administration pour gestion du stock</li>
                            <li data-i18n="egames.features.reviews">Système de reviews et évaluations</li>
                            <li data-i18n="egames.features.payment">Intégration système de paiement sécurisé</li>
                            <li data-i18n="egames.features.api">API REST pour intégrations futures</li>
                        </ul>
                    </section>

                    <section class="achievements-section">
                        <h3 data-i18n="egames.achievements.title"><i class="fas fa-trophy"></i> Points forts du projet</h3>
                        <div class="achievements-grid">
                            <div class="achievement-item">
                                <i class="fas fa-gamepad"></i>
                                <h4 data-i18n="egames.achievements.catalog">Catalogue Riche</h4>
                                <p data-i18n="egames.achievements.catalog.text">Base de données complète de jeux</p>
                            </div>
                            <div class="achievement-item">
                                <i class="fas fa-shopping-cart"></i>
                                <h4 data-i18n="egames.achievements.ecommerce">E-commerce Complet</h4>
                                <p data-i18n="egames.achievements.ecommerce.text">Cycle d'achat de bout en bout</p>
                            </div>
                            <div class="achievement-item">
                                <i class="fas fa-shield-alt"></i>
                                <h4 data-i18n="egames.achievements.security">Sécurité Avancée</h4>
                                <p data-i18n="egames.achievements.security.text">Protection des données et paiements</p>
                            </div>
                            <div class="achievement-item">
                                <i class="fas fa-mobile-alt"></i>
                                <h4 data-i18n="egames.achievements.responsive">Design Responsive</h4>
                                <p data-i18n="egames.achievements.responsive.text">Compatible tous appareils</p>
                            </div>
                        </div>
                    </section>

                    <section class="architecture-section">
                        <h3 data-i18n="egames.architecture.title"><i class="fas fa-sitemap"></i> Architecture technique</h3>
                        <div class="architecture-note">
                            <p data-i18n="egames.architecture.text">L'application E-games suit une architecture Modèle-Vue-Template (MVT)...</p>
                        </div>
                    </section>

                    <section class="features-section">
                        <h3 data-i18n="egames.keyfeatures.title"><i class="fas fa-star"></i> Fonctionnalités clés</h3>
                        <div class="features-grid">
                            <div class="feature-item">
                                <i class="fas fa-home"></i>
                                <h4 data-i18n="egames.keyfeatures.home">Page d'Accueil</h4>
                                <p data-i18n="egames.keyfeatures.home.text">Interface principale de la plateforme présentant les jeux disponibles</p>
                            </div>
                            <div class="feature-item">
                                <i class="fas fa-info-circle"></i>
                                <h4 data-i18n="egames.keyfeatures.details">Détails des Jeux</h4>
                                <p data-i18n="egames.keyfeatures.details.text">Pages détaillées affichant les informations complètes et consoles compatibles</p>
                            </div>
                            <div class="feature-item">
                                <i class="fas fa-user-plus"></i>
                                <h4 data-i18n="egames.keyfeatures.signup">Inscription Utilisateur</h4>
                                <p data-i18n="egames.keyfeatures.signup.text">Formulaire d'inscription avec validation et tests de fonctionnement</p>
                            </div>
                            <div class="feature-item">
                                <i class="fas fa-cogs"></i>
                                <h4 data-i18n="egames.keyfeatures.admin">Administration</h4>
                                <p data-i18n="egames.keyfeatures.admin.text">Interface d'administration permettant l'ajout de nouveaux jeux</p>
                            </div>
                        </div>
                    </section>

                    <section class="impact-section">
                        <h3 data-i18n="egames.metrics.title"><i class="fas fa-chart-line"></i> Métriques du projet</h3>
                        <div class="impact-stats">
                            <div class="stat-item">
                                <span class="stat-number">7</span>
                                <span class="stat-label" data-i18n="egames.metrics.interfaces">Interfaces développées</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number">3</span>
                                <span class="stat-label" data-i18n="egames.metrics.modules">Modules principaux</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number">100%</span>
                                <span class="stat-label" data-i18n="egames.metrics.workflow">Workflow fonctionnel</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number">MVT</span>
                                <span class="stat-label" data-i18n="egames.metrics.architecture">Architecture Django</span>
                            </div>
                        </div>
                    </section>

                    <section class="gallery-section">
                        <h3 data-i18n="egames.gallery.title"><i class="fas fa-images"></i> Album du projet</h3>
                        <div class="scrollable-album">
                            <div class="album-container">
                                <div class="album-item">
                                    <img src="../../assets/images/PFA/Academic/E-games/Acceuill.jpg" alt="Page d'accueil">
                                    <div class="album-caption" data-i18n="egames.gallery.home">Page d'accueil de la plateforme E-Games</div>
                                </div>
                                <div class="album-item">
                                    <img src="../../assets/images/PFA/Academic/E-games/NOUVELLE VUE QUI AFFICHE LES DETAILS DU JEU AINSI QUE LA CONSOLE COMPATIBLE.jpg" alt="Détails du jeu">
                                    <div class="album-caption" data-i18n="egames.gallery.details">Page détaillée du jeu avec console compatible</div>
                                </div>
                                 <div class="album-item">
                                    <img src="../../assets/images/PFA/Academic/E-games/FORMULAIRE INSCRIPTION.jpg" alt="Formulaire d'inscription">
                                    <div class="album-caption" data-i18n="egames.gallery.registration">Interface d'inscription utilisateur</div>
                                </div>
                                <div class="album-item">
                                    <img src="../../assets/images/PFA/Academic/E-games/TEST FORMULAIRE INSCRIPTION.jpg" alt="Test formulaire">
                                    <div class="album-caption" data-i18n="egames.gallery.registrationValidation">Validation du formulaire d'inscription</div>
                                </div>
                                <div class="album-item">
                                    <img src="../../assets/images/PFA/Academic/E-games/AJOUT NOUVEAU JEU A TRAVERS LA PARTIE ADMIN.png" alt="Administration">
                                    <div class="album-caption" data-i18n="egames.gallery.adminAddGame">Interface d'administration - Ajout de jeux</div>
                                </div>
                                <div class="album-item">
                                    <img src="../../assets/images/PFA/Academic/E-games/LE JEU A BIEN ETE AJOUTE.png" alt="Jeu ajouté">
                                    <div class="album-caption" data-i18n="egames.gallery.gameAdded">Confirmation d'ajout de jeu</div>
                                </div>
                                <div class="album-item">
                                    <img src="../../assets/images/PFA/Academic/E-games/LE JEU AJOUTE EST PRET A ETRE ACHETR.png" alt="Jeu disponible">
                                    <div class="album-caption" data-i18n="egames.gallery.gameAvailable">Jeu disponible à l'achat sur la plateforme</div>
                                </div>
                            </div>
                            <div class="album-scroll-indicator">
                                <span data-i18n="egames.gallery.scroll">Faites défiler pour voir plus d'images →</span>
                            </div>
                        </div>
                    </section>
                </div>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p data-i18n="footer.text" style="color: white;">&copy; 2025 Aymane Tajani. All rights reserved.</p>
        </div>
    </footer>

    <script src="../../js/script.js"></script>
    <!-- i18next initialization script -->
    <script>
        function updateContent() {
            console.log('Updating content with language:', i18next.language);
            document.querySelectorAll('[data-i18n]').forEach(function(element) {
                var key = element.getAttribute('data-i18n');
                try {
                    const translation = i18next.t(key);
                    if (translation && translation !== key) {
                        element.innerHTML = translation;
                    } else {
                        console.warn('Missing translation for key:', key);
                    }
                } catch (error) {
                    console.error('Error translating key:', key, error);
                }
            });
        }

        function updateLanguageButtons(currentLang) {
            document.querySelectorAll('.language-switcher button').forEach(button => {
                const lang = button.getAttribute('onclick').match(/'([^']+)'/)[1];
                button.classList.toggle('active', lang === currentLang);
            });
        }

        function changeLanguage(lng) {
            localStorage.setItem('i18nextLng', lng);
            i18next.changeLanguage(lng, function() {
                updateContent();
                updateLanguageButtons(lng);
            });
        }

        // Initialize i18next with proper path handling
        const isGitHubPages = window.location.hostname.includes('github.io');
        const basePath = isGitHubPages ? '../../' : '../../';

        console.log('Initializing i18next for E-games page...');
        console.log('Is GitHub Pages:', isGitHubPages);
        console.log('Base path:', basePath);
        console.log('Translation path:', basePath + 'locales/{{lng}}/translation.json');
        
        i18next
            .use(i18nextHttpBackend)
            .use(i18nextBrowserLanguageDetector)
            .init({
                fallbackLng: 'fr',
                debug: !isGitHubPages,
                lng: localStorage.getItem('i18nextLng') || 'fr', // Get language from localStorage or default to 'fr'
                backend: {
                    loadPath: basePath + 'locales/{{lng}}/translation.json'
                },
                detection: {
                    order: ['localStorage', 'navigator'],
                    caches: ['localStorage']
                }
            }, function(err, t) {
                if (err) {
                    console.error('Translation loading error:', err);
                } else {
                    console.log('i18next initialized successfully');
                    console.log('Current language:', i18next.language);
                }
                updateLanguageButtons(i18next.language || 'fr');
                updateContent();
            });

        // Add event listener for language changes
        i18next.on('languageChanged', function(lng) {
            console.log('Language changed to:', lng);
        });
    </script>

</body>
</html>
