<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="../../assets/images/profile-placeholder.jpg" type="image/x-icon">
    <title data-i18n="chronotrace.title">Chronotrace - Aymane Tajani</title>
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Inclusion des bibliothèques i18next -->
    <script src="https://unpkg.com/i18next@23.4.6/dist/umd/i18next.min.js"></script>
    <script src="https://unpkg.com/i18next-http-backend@2.2.0/i18nextHttpBackend.min.js"></script>
    <script src="https://unpkg.com/i18next-browser-languagedetector@7.0.1/i18nextBrowserLanguageDetector.min.js"></script>
</head>
<body>
    <!-- Header with back button -->
    <header class="experience-detail-header">
        <div class="container">
            <a href="../../index.html#projects" class="back-btn">
                <i class="fas fa-arrow-left"></i> <span data-i18n="backPortfolio">Retour au portfolio</span>
            </a>
        </div>
    </header>

    <!-- Main content -->
    <main class="experience-detail-main">
        <div class="container">
            <div class="experience-detail-card">
                <div class="experience-detail-header-content">
                    <div class="company-logo">
                        <img src="../../assets/images/PFA/PFA-5.png" alt="Chronotrace Logo">
                    </div>
                    <div class="experience-detail-info">
                        <h1 data-i18n="chronotrace.projectTitle">ChronoTrace - Système de Pointage Digital Intelligent</h1>
                        <h2 data-i18n="chronotrace.projectType">Projet de Fin d'Année (PFA)</h2>
                        <div class="experience-meta">
                            <span class="duration"><i class="fas fa-calendar"></i><span data-i18n="chronotrace.date">Janvier 2025</span></span>
                            <span class="location"><i class="fas fa-graduation-cap"></i><span data-i18n="chronotrace.school">EMSI Casablanca</span></span>
                            <span class="type"><i class="fas fa-code"></i><span data-i18n="chronotrace.category">Projet Académique</span></span>
                        </div>
                    </div>
                </div>

                <div class="experience-detail-content">
                    <section class="overview-section">
                        <h3><i class="fas fa-info-circle"></i> <span data-i18n="overview.title">Aperçu du projet</span></h3>
                        <p data-i18n="chronotrace.overview">Dans un contexte professionnel axé sur la performance, ChronoTrace est une application intelligente de gestion des présences qui révolutionne le pointage traditionnel. Grâce à l'intégration de technologies avancées comme la reconnaissance faciale par IA, la géolocalisation GPS précise et les codes QR sécurisés, cette solution cross-platform offre une approche moderne et fiable pour le suivi des employés. Développée avec Flutter et Firebase, ChronoTrace garantit une synchronisation temps réel, une interface intuitive et une architecture scalable pour répondre aux besoins des entreprises modernes.</p>
                    </section>

                    <section class="technologies-section">
                        <h3><i class="fas fa-tools"></i> <span data-i18n="technologies.title">Technologies utilisées</span></h3>
                        
                        <!-- Tools Image -->
                        <div class="tools-diagram">
                            <img src="../../assets/images/PFA/Academic/Chronotrace/Liste-outils.png" alt="Liste des outils et technologies utilisés" class="tools-img">
                            <p class="diagram-caption" data-i18n="chronotrace.toolsCaption">Technologies et outils utilisés dans le projet ChronoTrace</p>
                        </div>
                        
                        <div class="tech-stack">
                            <span class="tech-tag">Flutter</span>
                            <span class="tech-tag">Dart</span>
                            <span class="tech-tag">Firebase</span>
                            <span class="tech-tag">ML Kit</span>
                            <span class="tech-tag">Google Maps API</span>
                            <span class="tech-tag">Face Recognition</span>
                            <span class="tech-tag">Cloud Firestore</span>
                            <span class="tech-tag">Firebase Auth</span>
                        </div>
                    </section>

                    <section class="responsibilities-section">
                        <h3><i class="fas fa-tasks"></i> <span data-i18n="chronotrace.featuresTitle">Fonctionnalités développées</span></h3>
                        <ul class="responsibilities-list">
                            <li data-i18n="chronotrace.feature1">Reconnaissance faciale avec ML Kit</li>
                            <li data-i18n="chronotrace.feature2">Système de géolocalisation pour validation de présence</li>
                            <li data-i18n="chronotrace.feature3">Codes QR pour pointage rapide</li>
                            <li data-i18n="chronotrace.feature4">Interface administrateur pour gestion des employés</li>
                            <li data-i18n="chronotrace.feature5">Synchronisation en temps réel avec Firebase</li>
                            <li data-i18n="chronotrace.feature6">Gestion des rôles et permissions</li>
                            <li data-i18n="chronotrace.feature7">Prise en compte le remplacement des admins en cas de congés</li>
                        </ul>
                    </section>

                    <section class="achievements-section">
                        <h3><i class="fas fa-trophy"></i> <span data-i18n="chronotrace.highlightsTitle">Points forts du projet</span></h3>
                        <div class="achievements-grid">
                            <div class="achievement-item">
                                <i class="fas fa-user-check"></i>
                                <h4 data-i18n="chronotrace.highlight1.title">IA de Reconnaissance</h4>
                                <p data-i18n="chronotrace.highlight1.text">Précision de 90% en reconnaissance faciale</p>
                            </div>
                            <div class="achievement-item">
                                <i class="fas fa-map-marker-alt"></i>
                                <h4 data-i18n="chronotrace.highlight2.title">Géolocalisation</h4>
                                <p data-i18n="chronotrace.highlight2.text">Validation automatique par position GPS</p>
                            </div>
                            <div class="achievement-item">
                                <i class="fas fa-mobile-alt"></i>
                                <h4 data-i18n="chronotrace.highlight3.title">Cross-Platform</h4>
                                <p data-i18n="chronotrace.highlight3.text">Compatible iOS et Android</p>
                            </div>
                            <div class="achievement-item">
                                <i class="fas fa-cloud"></i>
                                <h4 data-i18n="chronotrace.highlight4.title">Cloud Native</h4>
                                <p data-i18n="chronotrace.highlight4.text">Architecture Firebase scalable</p>
                            </div>
                        </div>
                    </section>

                    <section class="architecture-section">
                        <h3><i class="fas fa-sitemap"></i> <span data-i18n="chronotrace.architectureTitle">Architecture technique</span></h3>
                        
                        <!-- Architecture Diagram -->
                        <div class="architecture-diagram">
                            <img src="../../assets/images/PFA/Academic/Chronotrace/Ar-tech.png" alt="Architecture technique ChronoTrace" class="architecture-img">
                            <p class="diagram-caption" data-i18n="chronotrace.architectureCaption">Architecture technique de l'application ChronoTrace</p>
                        </div>
                        
                        <div class="architecture-note">
                            <p data-i18n="chronotrace.architectureText"></p>
                        </div>
                    </section>

                    <section class="impact-section">
                        <h3><i class="fas fa-chart-line"></i> <span data-i18n="chronotrace.impactTitle">Impact et résultats</span></h3>
                        <div class="impact-stats">
                            <div class="stat-item">
                                <span class="stat-number">90%</span>
                                <span class="stat-label" data-i18n="chronotrace.impact1">Précision reconnaissance</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number">90%</span>
                                <span class="stat-label" data-i18n="chronotrace.impact2">Élimination fraude</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number">60%</span>
                                <span class="stat-label" data-i18n="chronotrace.impact3">Réduction temps pointage</span>
                            </div>
                        </div>
                    </section>

                    <section class="gallery-section">
                        <h3><i class="fas fa-images"></i> <span data-i18n="gallery.title">Album du projet</span></h3>
                        <div class="scrollable-album">
                            <div class="album-container">
                                <div class="album-item">
                                    <img src="../../assets/images/PFA/Academic/Chronotrace/register.jpg" alt="Inscription">
                                    <div class="album-caption" data-i18n="chronotrace.gallery1">Interface d'inscription</div>
                                </div>
                                <div class="album-item">
                                    <img src="../../assets/images/PFA/Academic/Chronotrace/login.jpg" alt="Écran de connexion">
                                    <div class="album-caption" data-i18n="chronotrace.gallery2">Interface d'authentification</div>
                                </div>
                                <div class="album-item">
                                    <img src="../../assets/images/PFA/Academic/Chronotrace/home_admin.jpg" alt="Interface admin">
                                    <div class="album-caption" data-i18n="chronotrace.gallery3">Interface d’accueil pour l’admin</div>
                                </div>
                                <div class="album-item">
                                    <img src="../../assets/images/PFA/Academic/Chronotrace/admin_qrScan.jpg" alt="Scanner QR">
                                    <div class="album-caption" data-i18n="chronotrace.gallery4">Interface QR ChronoTrace</div>
                                </div>
                                <div class="album-item">
                                    <img src="../../assets/images/PFA/Academic/Chronotrace/admin_point_localisation.jpg" alt="Géolocalisation">
                                    <div class="album-caption" data-i18n="chronotrace.gallery5">Interface GPS ChronoTrace</div>
                                </div>
                                <div class="album-item">
                                    <img src="../../assets/images/PFA/Academic/Chronotrace/admin_face-ID.jpg" alt="Reconnaissance faciale">
                                    <div class="album-caption" data-i18n="chronotrace.gallery6">Interface Face-ID ChronoTrace</div>
                                </div>
                                <div class="album-item">
                                    <img src="../../assets/images/PFA/Academic/Chronotrace/sidebar_admin.jpg" alt="Menu admin">
                                    <div class="album-caption" data-i18n="chronotrace.gallery7">Fonctionnalités dans la barre de menu de l'admin</div>
                                </div>
                                <div class="album-item">
                                    <img src="../../assets/images/PFA/Academic/Chronotrace/Sidebar_web.png" alt="Menu web">
                                    <div class="album-caption" data-i18n="chronotrace.gallery8">Menu latéral version web</div>
                                </div>
                                <div class="album-item">
                                    <img src="../../assets/images/PFA/Academic/Chronotrace/profile_admin.png" alt="Profil admin">
                                    <div class="album-caption" data-i18n="chronotrace.gallery9">Interface Profile admin</div>
                                </div>
                                <div class="album-item">
                                    <img src="../../assets/images/PFA/Academic/Chronotrace/QR_2.png" alt="QR Code 2">
                                    <div class="album-caption" data-i18n="chronotrace.gallery10">Interface de la génération des QR-Codes</div>
                                </div>
                                <div class="album-item">
                                    <img src="../../assets/images/PFA/Academic/Chronotrace/Tableau_de_bord.png" alt="Tableau de bord">
                                    <div class="album-caption" data-i18n="chronotrace.gallery11">Interface Tableau de Bord</div>
                                </div>
                                <div class="album-item">
                                    <img src="../../assets/images/PFA/Academic/Chronotrace/Change_role.png" alt="Changement de rôle">
                                    <div class="album-caption" data-i18n="chronotrace.gallery12">Interface changement de rôle</div>
                                </div>
                                <div class="album-item">
                                    <img src="../../assets/images/PFA/Academic/Chronotrace/home_user.jpg" alt="Interface utilisateur">
                                    <div class="album-caption" data-i18n="chronotrace.gallery13">Interface d’accueil pour l’utilisateur</div>
                                </div>
                                <div class="album-item">
                                    <img src="../../assets/images/PFA/Academic/Chronotrace/Sidebar_user.jpg" alt="Menu utilisateur">
                                    <div class="album-caption" data-i18n="chronotrace.gallery14">Menu latéral utilisateur</div>
                                </div>
                                <div class="album-item">
                                    <img src="../../assets/images/PFA/Academic/Chronotrace/general_settings.jpg" alt="Paramètres">
                                    <div class="album-caption" data-i18n="chronotrace.gallery15">Paramètres généraux</div>
                                </div>
                                <div class="album-item">
                                    <img src="../../assets/images/PFA/Academic/Chronotrace/Account_settings.jpg" alt="Paramètres compte">
                                    <div class="album-caption" data-i18n="chronotrace.gallery16">Gestion du compte utilisateur</div>
                                </div>
                                <div class="album-item">
                                    <img src="../../assets/images/PFA/Academic/Chronotrace/Profile_user.jpg" alt="Profil utilisateur">
                                    <div class="album-caption" data-i18n="chronotrace.gallery17">Interface Profil utilisateur</div>
                                </div>
                                <div class="album-item">
                                    <img src="../../assets/images/PFA/Academic/Chronotrace/settings.jpg" alt="Paramètres">
                                    <div class="album-caption" data-i18n="chronotrace.gallery18">Interface des paramètres</div>
                                </div>
                                <div class="album-item">
                                    <img src="../../assets/images/PFA/Academic/Chronotrace/about.jpg" alt="À propos">
                                    <div class="album-caption" data-i18n="chronotrace.gallery19">Page à propos de l'application</div>
                                </div>
                            </div>
                            <div class="album-scroll-indicator">
                                <span data-i18n="gallery.scroll">Faites défiler pour voir plus d'images →</span>
                            </div>
                        </div>
                    </section>
                </div>
            </div>
        </div>
    </main>
    <footer class="footer">
        <div class="container">
            <p data-i18n="footer.text" style="color: white;">&copy; 2025 Aymane Tajani. All rights reserved.</p>
        </div>
    </footer>
    <script src="../../js/script.js"></script>
     <!-- i18next initialization script -->
    <script>
        function updateContent() {
            console.log('Updating content with language:', i18next.language);
            document.querySelectorAll('[data-i18n]').forEach(function(element) {
                var key = element.getAttribute('data-i18n');
                try {
                    const translation = i18next.t(key);
                    if (translation && translation !== key) {
                        element.innerHTML = translation;
                    } else {
                        console.warn('Missing translation for key:', key);
                    }
                } catch (error) {
                    console.error('Error translating key:', key, error);
                }
            });
        }

        function updateLanguageButtons(currentLang) {
            document.querySelectorAll('.language-switcher button').forEach(button => {
                const lang = button.getAttribute('onclick').match(/'([^']+)'/)[1];
                button.classList.toggle('active', lang === currentLang);
            });
        }

        function changeLanguage(lng) {
            localStorage.setItem('i18nextLng', lng);
            i18next.changeLanguage(lng, function() {
                updateContent();
                updateLanguageButtons(lng);
            });
        }

        // Initialize i18next with proper path handling
        const isGitHubPages = window.location.hostname.includes('github.io');
        const basePath = isGitHubPages ? '../../' : '../../';

        console.log('Initializing i18next for Chronotrace page...');
        console.log('Is GitHub Pages:', isGitHubPages);
        console.log('Base path:', basePath);
        console.log('Translation path:', basePath + 'locales/{{lng}}/translation.json');
        
        i18next
            .use(i18nextHttpBackend)
            .use(i18nextBrowserLanguageDetector)
            .init({
                fallbackLng: 'fr',
                debug: !isGitHubPages,
                lng: localStorage.getItem('i18nextLng') || 'fr', // Get language from localStorage or default to 'fr'
                backend: {
                    loadPath: basePath + 'locales/{{lng}}/translation.json'
                },
                detection: {
                    order: ['localStorage', 'navigator'],
                    caches: ['localStorage']
                }
            }, function(err, t) {
                if (err) {
                    console.error('Translation loading error:', err);
                } else {
                    console.log('i18next initialized successfully');
                    console.log('Current language:', i18next.language);
                }
                updateLanguageButtons(i18next.language || 'fr');
                updateContent();
            });

        // Add event listener for language changes
        i18next.on('languageChanged', function(lng) {
            console.log('Language changed to:', lng);
        });
    </script>
</body>
</html>
